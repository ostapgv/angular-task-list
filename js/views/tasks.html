<section class='task-debug-info'>
  <pre>
    sorting predicate = {{vm.predicate}}
    reverse = {{vm.reverse}}
    search string = {{vm.search}}
    isActiveFilter = {{vm.isActiveFilter}}
  </pre>
  <hr/>
  [ <a href="" ng-click="vm.predicate=''">unsorted</a> ]
</section>

<section class='task-filters'>

  <ul class='is-active-task-filter'>
    <li><a href="" ng-click='vm.isActiveFilter=undefined'>All</a></li>
    <li><a href="" ng-click='vm.isActiveFilter=true'>Active</a></li>
    <li><a href="" ng-click='vm.isActiveFilter=false'>Completed</a></li>
  </ul>

  <form class='task-search'>
    <input type="text" class="task-search-input" placeholder="Search the task" ng-model="vm.search">
  </form>

</section>


<section class='task-table'>
  <table id='task-table'>
    <thead>
      <tr>
        <th>
          <a href="" ng-click="vm.order('title')">Task</a>
          <span class="sortorder" ng-show="vm.predicate === 'title'" ng-class="{reverse:vm.reverse}"></span>
        </th>
        <th>
          <a href="" ng-click="vm.order('priority')">Priority</a>
          <span class="sortorder" ng-show="vm.predicate === 'priority'" ng-class="{reverse:vm.reverse}"></span>
        </th>
        <th>
          <a href="" ng-click="vm.order('endDate')">End Date</a>
          <span class="sortorder" ng-show="vm.predicate === 'endDate'" ng-class="{reverse:vm.reverse}"></span>
        </th>
        <th>Active</th>
      </tr>
    </thead>
    <tbody>
      <tr ng-repeat='task in vm.getFilteredTasks(vm.isActiveFilter) | orderBy:vm.predicate:vm.reverse | filter: vm.search' ng-dblClick='vm.showTaskDetails(task.id)'>
        <td ng-bind='::task.title'></td>
        <td ng-bind='::task.priority'></td>
        <td ng-bind='::task.endDate | date : "dd.MM.yyyy"'></td>
        <td><input type='checkbox' ng-checked='task.isActive' ng-model="task.isActive" ng-change='vm.TasksService.setTask(task)'></td>
      </tr>
    </tbody>
  </table>
</section>